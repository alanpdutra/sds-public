function l(r){if(!r)return;const t=e=>{let n=String(e||"").replace(/\D/g,"");if(!n)return"";if(n.length<=2)return n=n.padStart(2,"0"),`0,${n}`;const s=n.slice(0,-2).replace(/^0+/,"")||"0",i=n.slice(-2);return`${s.replace(/\B(?=(\d{3})+(?!\d))/g,".")},${i}`};r.addEventListener("input",e=>{e.target.value=t(e.target.value)}),r.addEventListener("blur",e=>{e.target.value=t(e.target.value)})}function c(r){r&&(r.addEventListener("input",t=>{t.target.value=String(t.target.value||"").replace(/\D/g,"").slice(0,4)}),r.addEventListener("blur",t=>{const e=Number(String(t.target.value||"").slice(0,4)),n=new Date().getFullYear(),s=!e||e<1500||e>n,i=t.target.closest(".col, .mb-3, .form-group")||t.target.parentElement||t.target;let a=i.querySelector(".invalid-feedback");a||(a=document.createElement("div"),a.className="invalid-feedback",i.appendChild(a)),s?(t.target.classList.add("is-invalid"),a.textContent=`O ano deve estar entre 1500 e ${n}.`):(t.target.classList.remove("is-invalid"),a.textContent="")}))}function o(r){if(r==null)return 0;let t=String(r).replace(/[^\d,.-]/g,"");t=t.replace(/\.(?=\d{3}(,|$))/g,""),t=t.replace(",",".");const e=parseFloat(t);return Number.isFinite(e)?e:0}function u(r){const t=Number(r||0);return Number.isFinite(t)?"R$ "+t.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):"R$ 0,00"}window.mask={applyMoneyMask:l,applyYearMask:c,removeMoney:o,formatMoney:u};
